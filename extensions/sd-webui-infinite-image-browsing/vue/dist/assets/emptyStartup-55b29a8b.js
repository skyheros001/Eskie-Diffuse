import{d as B,j as re,X as L,Y as ce,u as Z,_ as _e,a as V,Z as be,$ as ue,h as j,c as v,P as Q,s as ke,a0 as Ce,a1 as ye,a2 as we,a3 as de,a4 as Oe,R as X,a5 as $,a6 as xe,U as $e,a7 as Se,a8 as Y,a9 as H,o as m,v as D,x as _,m as T,t as d,aa as Ie,W as Pe,M as Te,r as ze,ab as Re,ac as ee,k as O,l as a,z as p,p as z,y as M,ad as te,n as G,C as E,ae as W,af as Me,ag as Ne,ah as De,V as Fe,ai as je,aj as Ae,q as Ve}from"./index-00b4fcdc.js";import{a as Be,r as Ge}from"./db-6498d1af.js";import{D as Ee}from"./index-9c72d52d.js";import{V as Le}from"./index-57be937e.js";var He=["prefixCls","id"],pe=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Q.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const x=B({compatConfig:{MODE:3},name:"ARadio",props:pe(),setup:function(e,t){var s=t.emit,u=t.expose,C=t.slots,g=re(),b=L(),k=ce("radioGroupContext",void 0),I=Z("radio",e),w=I.prefixCls,R=I.direction,A=function(){b.value.focus()},S=function(){b.value.blur()};u({focus:A,blur:S});var n=function(r){var f=r.target.checked;s("update:checked",f),s("update:value",f),s("change",r),g.onFieldChange()},i=function(r){s("change",r),k&&k.onRadioChange&&k.onRadioChange(r)};return function(){var c,r=k;e.prefixCls;var f=e.id,P=f===void 0?g.id.value:f,F=_e(e,He),y=V({prefixCls:w.value,id:P},be(F,["onUpdate:checked","onUpdate:value"]));r?(y.name=r.props.name,y.onChange=i,y.checked=e.value===r.stateValue.value,y.disabled=e.disabled||r.props.disabled):y.onChange=n;var N=ue((c={},j(c,"".concat(w.value,"-wrapper"),!0),j(c,"".concat(w.value,"-wrapper-checked"),y.checked),j(c,"".concat(w.value,"-wrapper-disabled"),y.disabled),j(c,"".concat(w.value,"-wrapper-rtl"),R.value==="rtl"),c));return v("label",{class:N},[v(Le,V(V({},y),{},{type:"radio",ref:b}),null),C.default&&v("span",null,[C.default()])])}}});var Ue=ye("large","default","small"),qe=function(){return{prefixCls:String,value:Q.any,size:Q.oneOf(Ue),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const ve=B({compatConfig:{MODE:3},name:"ARadioGroup",props:qe(),setup:function(e,t){var s=t.slots,u=t.emit,C=re(),g=Z("radio",e),b=g.prefixCls,k=g.direction,I=g.size,w=L(e.value),R=L(!1);ke(function(){return e.value},function(S){w.value=S,R.value=!1});var A=function(n){var i=w.value,c=n.target.value;"value"in e||(w.value=c),!R.value&&c!==i&&(R.value=!0,u("update:value",c),u("change",n),C.onFieldChange()),we(function(){R.value=!1})};return Ce("radioGroupContext",{onRadioChange:A,stateValue:w,props:e}),function(){var S,n=e.options,i=e.optionType,c=e.buttonStyle,r=e.id,f=r===void 0?C.id.value:r,P="".concat(b.value,"-group"),F=ue(P,"".concat(P,"-").concat(c),(S={},j(S,"".concat(P,"-").concat(I.value),I.value),j(S,"".concat(P,"-rtl"),k.value==="rtl"),S)),y=null;if(n&&n.length>0){var N=i==="button"?"".concat(b.value,"-button"):b.value;y=n.map(function(h){if(typeof h=="string"||typeof h=="number")return v(x,{key:h,prefixCls:N,disabled:e.disabled,value:h,checked:w.value===h},{default:function(){return[h]}});var q=h.value,he=h.disabled,me=h.label;return v(x,{key:"radio-group-value-options-".concat(q),prefixCls:N,disabled:he||e.disabled,value:q,checked:w.value===q},{default:function(){return[me]}})})}else{var l;y=(l=s.default)===null||l===void 0?void 0:l.call(s)}return v("div",{class:F,id:f},[y])}}}),fe=B({compatConfig:{MODE:3},name:"ARadioButton",props:pe(),setup:function(e,t){var s=t.slots,u=Z("radio-button",e),C=u.prefixCls,g=ce("radioGroupContext",void 0);return function(){var b,k=V(V({},e),{},{prefixCls:C.value});return g&&(k.onChange=g.onRadioChange,k.checked=k.value===g.stateValue.value,k.disabled=k.disabled||g.props.disabled),v(x,k,{default:function(){return[(b=s.default)===null||b===void 0?void 0:b.call(s)]}})}}});x.Group=ve;x.Button=fe;x.install=function(o){return o.component(x.name,x),o.component(x.Group.name,x.Group),o.component(x.Button.name,x.Button),o};var We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const Qe=We;function ne(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),s.forEach(function(u){Xe(o,u,t[u])})}return o}function Xe(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var J=function(e,t){var s=ne({},e,t.attrs);return v(de,ne({},s,{icon:Qe}),null)};J.displayName="FileDoneOutlined";J.inheritAttrs=!1;const Ye=J;var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const Je=Ze;function ae(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),s.forEach(function(u){Ke(o,u,t[u])})}return o}function Ke(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var K=function(e,t){var s=ae({},e,t.attrs);return v(de,ae({},s,{icon:Je}),null)};K.displayName="LockOutlined";K.inheritAttrs=!1;const oe=K;const le=async o=>{let e;if({}.TAURI_ARCH){const t=await Oe({directory:!0});if(typeof t=="string")e=t;else return}else e=await new Promise(t=>{const s=L("");X.confirm({title:$("inputTargetFolderPath"),content:()=>xe($e,{value:s.value,"onUpdate:value":u=>s.value=u}),async onOk(){const u=s.value;(await Se([u]))[u]?t(s.value):Y.error($("pathDoesNotExist"))}})});X.confirm({content:$("confirmToAddToExtraPath"),async onOk(){await Be({type:o,path:e}),Y.success($("addCompleted")),H.emit("searchIndexExpired"),H.emit("updateGlobalSetting")}})},se=(o,e)=>{X.confirm({content:$("confirmDelete"),closable:!0,async onOk(){await Ge({type:e,path:o}),Y.success($("removeCompleted")),H.emit("searchIndexExpired"),H.emit("updateGlobalSetting")}})},ie=B({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(o,{emit:e}){const t=s=>{switch(s.key.toString()){case"openOnTheRight":e("openOnTheRight");break;case"openInNewTab":e("openInNewTab");break}};return(s,u)=>{const C=Pe,g=Te,b=Ee;return m(),D(b,{trigger:["contextmenu"]},{overlay:_(()=>[v(g,{onClick:t},{default:_(()=>[v(C,{key:"openOnTheRight"},{default:_(()=>[T(d(s.$t("openOnTheRight")),1)]),_:1}),v(C,{key:"openInNewTab"},{default:_(()=>[T(d(s.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:_(()=>[Ie(s.$slots,"default")]),_:3})}}}),U=o=>(je("data-v-6446f93a"),o=o(),Ae(),o),et={class:"container"},tt={class:"header"},nt={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},at=U(()=>a("div",{"flex-placeholder":""},null,-1)),ot=U(()=>a("a",{href:"https://github.com/zanllp/sd-webui-infinite-image-browsing",target:"_blank",class:"last-record"},"Github",-1)),lt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/blob/main/.env.example",target:"_blank",class:"last-record"},st={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/wiki/Change-log",target:"_blank",class:"last-record"},it={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/90",target:"_blank",class:"last-record"},rt={class:"access-mode-message"},ct=U(()=>a("div",{"flex-placeholder":""},null,-1)),ut={class:"access-mode-message"},dt=U(()=>a("div",{"flex-placeholder":""},null,-1)),pt={class:"content"},vt={class:"feature-item"},ft={class:"text line-clamp-1"},ht=["onClick"],mt={class:"text line-clamp-2"},gt={key:0,class:"feature-item"},_t={class:"text line-clamp-1"},bt=["onClick"],kt={class:"text line-clamp-2"},Ct={class:"feature-item"},yt=["onClick"],wt={class:"text line-clamp-1"},Ot={class:"text line-clamp-1"},xt={class:"text line-clamp-1"},$t={class:"text line-clamp-1"},St={key:1,class:"feature-item recent"},It={class:"title"},Pt=["onClick"],Tt={class:"text line-clamp-1"},zt=B({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(o){const e=o,t=ze(),s=Re(),u={local:$("local"),"tag-search":$("imgSearch"),"fuzzy-search":$("fuzzy-search"),"global-setting":$("globalSettings"),"batch-download":$("batchDownload")+" / "+$("archive")},C=(n,i,c=!1)=>{let r;switch(n){case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":r={type:n,name:u[n],key:Date.now()+W()};break;case"local":r={type:n,name:u[n],key:Date.now()+W(),path:i,walkModePath:c?i:void 0}}return r},g=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;const f=t.tabList[e.tabIdx];f.panes.splice(e.paneIdx,1,r),f.key=r.key},b=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;t.tabList[e.tabIdx].panes.push(r)},k=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;let f=t.tabList[e.tabIdx+1];f||(f={panes:[],key:"",id:W()},t.tabList[e.tabIdx+1]=f),f.panes.push(r),f.key=r.key},I=ee(()=>{var n;return(n=t.tabListHistoryRecord)==null?void 0:n[1]}),w=ee(()=>t.quickMovePaths.filter(({key:n,type:i})=>n==="outdir_txt2img_samples"||n==="outdir_img2img_samples"||n==="outdir_txt2img_grids"||n==="outdir_img2img_grids"||i==="walk")),R=window.parent!==window,A=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),S=()=>{Me(I.value),t.tabList=Ne(I.value.tabs)};return(n,i)=>{var F,y,N;const c=fe,r=ve,f=De,P=Fe;return m(),O("div",et,[a("div",tt,[a("h1",null,d(n.$t("welcome")),1),(F=p(t).conf)!=null&&F.enable_access_control&&p(t).dontShowAgain?(m(),O("div",nt,[v(p(oe),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):z("",!0),at,ot,a("a",lt,d(n.$t("privacyAndSecurity")),1),a("a",st,d(n.$t("changlog")),1),a("a",it,d(n.$t("faq")),1),v(r,{value:p(t).darkModeControl,"onUpdate:value":i[0]||(i[0]=l=>p(t).darkModeControl=l),"button-style":"solid"},{default:_(()=>[v(c,{value:"light"},{default:_(()=>[T("light")]),_:1}),v(c,{value:"auto"},{default:_(()=>[T("auto")]),_:1}),v(c,{value:"dark"},{default:_(()=>[T("dark")]),_:1})]),_:1},8,["value"])]),(y=p(t).conf)!=null&&y.enable_access_control&&!p(t).dontShowAgain?(m(),D(f,{key:0,"show-icon":""},{message:_(()=>[a("div",rt,[a("div",null,d(n.$t("accessControlModeTips")),1),ct,a("a",{onClick:i[1]||(i[1]=M(l=>p(t).dontShowAgain=!0,["prevent"]))},d(n.$t("dontShowAgain")),1)])]),icon:_(()=>[v(p(oe))]),_:1})):z("",!0),p(t).dontShowAgainNewImgOpts?z("",!0):(m(),D(f,{key:1,"show-icon":""},{message:_(()=>[a("div",ut,[a("div",null,d(n.$t("majorUpdateCustomCellSizeTips")),1),dt,a("a",{onClick:i[2]||(i[2]=M(l=>p(t).dontShowAgainNewImgOpts=!0,["prevent"]))},d(n.$t("dontShowAgain")),1)])]),_:1})),a("div",pt,[a("div",vt,[a("h2",null,d(n.$t("walkMode")),1),a("ul",null,[a("li",{onClick:i[3]||(i[3]=l=>p(le)("walk")),class:"item",style:{"text-align":""}},[a("span",ft,[v(p(te)),T(" "+d(n.$t("add")),1)])]),(m(!0),O(G,null,E(w.value,l=>(m(),D(ie,{key:l.key,onOpenInNewTab:h=>b("local",l.dir,!0),onOpenOnTheRight:h=>k("local",l.dir,!0)},{default:_(()=>[a("li",{class:"item rem",onClick:M(h=>g("local",l.dir,!0),["prevent"])},[a("span",mt,d(l.zh),1),l.can_delete?(m(),D(P,{key:0,type:"link",onClick:M(h=>p(se)(l.dir,"walk"),["stop"])},{default:_(()=>[T(d(n.$t("remove")),1)]),_:2},1032,["onClick"])):z("",!0)],8,ht)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),p(t).quickMovePaths.length?(m(),O("div",gt,[a("h2",null,d(n.$t("launchFromQuickMove")),1),a("ul",null,[a("li",{onClick:i[4]||(i[4]=l=>p(le)("scanned")),class:"item",style:{"text-align":""}},[a("span",_t,[v(p(te)),T(" "+d(n.$t("add")),1)])]),(m(!0),O(G,null,E(p(t).quickMovePaths.filter(l=>l.type!=="walk"),l=>(m(),D(ie,{key:l.key,onOpenInNewTab:h=>b("local",l.dir),onOpenOnTheRight:h=>k("local",l.dir)},{default:_(()=>[a("li",{class:"item rem",onClick:M(h=>g("local",l.dir),["prevent"])},[a("span",kt,d(l.zh),1),l.can_delete&&l.type=="scanned"?(m(),D(P,{key:0,type:"link",onClick:M(h=>p(se)(l.dir,"scanned"),["stop"])},{default:_(()=>[T(d(n.$t("remove")),1)]),_:2},1032,["onClick"])):z("",!0)],8,bt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])])):z("",!0),a("div",Ct,[a("h2",null,d(n.$t("launch")),1),a("ul",null,[(m(!0),O(G,null,E(Object.keys(u),l=>(m(),O("li",{key:l,class:"item",onClick:M(h=>g(l),["prevent"])},[a("span",wt,d(u[l]),1)],8,yt))),128)),a("li",{class:"item",onClick:i[5]||(i[5]=l=>p(s).opened=!0)},[a("span",Ot,d(n.$t("imgCompare")),1)]),R?(m(),O("li",{key:0,class:"item",onClick:A},[a("span",xt,d(n.$t("openInNewWindow")),1)])):z("",!0),(N=I.value)!=null&&N.tabs.length?(m(),O("li",{key:1,class:"item",onClick:S},[a("span",$t,d(n.$t("restoreLastRecord")),1)])):z("",!0)])]),p(t).recent.length?(m(),O("div",St,[a("div",It,[a("h2",null,d(n.$t("recent")),1),v(P,{onClick:i[6]||(i[6]=l=>p(t).recent=[]),type:"link"},{default:_(()=>[T(d(n.$t("clear")),1)]),_:1})]),a("ul",null,[(m(!0),O(G,null,E(p(t).recent,l=>(m(),O("li",{key:l.key,class:"item",onClick:M(h=>g("local",l.path),["prevent"])},[v(p(Ye),{class:"icon"}),a("span",Tt,d(l.path),1)],8,Pt))),128))])])):z("",!0)])])}}});const Ft=Ve(zt,[["__scopeId","data-v-6446f93a"]]);export{Ft as default};
